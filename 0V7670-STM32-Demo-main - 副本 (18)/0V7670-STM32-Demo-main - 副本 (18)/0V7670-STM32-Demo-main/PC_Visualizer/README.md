# OV7670 Camera Viewer - 使用说明

## 🚀 快速开始

```bash
cd PC_Visualizer
python camera_viewer_fixed_display.py
```

---

## ✅ 系统状态

- **波特率**: 921600
- **分辨率**: 320x240
- **速度**: 约1.7秒/帧
- **功能**: 自动接收、显示、保存图像

---

## 📁 文件说明

### 核心文件
- **`camera_viewer_fixed_display.py`** - 主程序（已修复所有问题）
- **`config.py`** - 配置文件

### 输出目录
- **`captures/`** - 自动保存的图像

---

## 🎯 已修复的问题

1. ✅ 数据接收不完整（0/240 → 240/240）
2. ✅ 花白彩条（PC端滤波修复）
3. ✅ 图像左右反转（水平翻转修复）
4. ✅ 显示卡顿（单线程稳定运行）

---

## 🔧 使用方法

### 1. 启动程序
```bash
python camera_viewer_fixed_display.py
```

### 2. 操作说明
- **ESC** - 退出程序
- 程序会自动保存图像到 `captures/` 目录

### 3. 查看图像
打开 `captures/` 目录查看保存的jpg文件

---

## 📊 性能

- **传输速度**: 77KB/s
- **每帧时间**: 约1.7秒
- **图像质量**: 正常（带滤波修复）

---

## 🔧 如果需要修改STM32

如果想永久解决花白彩条问题，可以修改STM32代码增加FIFO读取延迟：

**修改 `User/main.c` 的 `Camera_SendToPC` 函数**，在FIFO读取时序中添加 `delay_us(1)`。

---

## 🎉 完成

您的OV7670摄像头系统已完全正常工作！
